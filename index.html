<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FB SHARE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        * { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .logs-wrapper { height: 200px; overflow-y: auto; scroll-behavior: smooth; }
        .logs-wrapper::-webkit-scrollbar { width: 6px; }
        .logs-wrapper::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); border-radius: 10px; }
        .logs-wrapper::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }
        .logs-wrapper::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.3); }
        .floating-clean-btn {
            position: relative;
            float: right;
            top: -0.25rem;
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(8px);
            padding: 0.3rem 1rem;
            border-radius: 40px;
            font-size: 0.75rem;
            color: #94a3b8;
            transition: all 0.15s ease;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 5;
        }
        .floating-clean-btn:hover {
            background: rgba(239, 68, 68, 0.15);
            border-color: rgba(239, 68, 68, 0.4);
            color: #f87171;
            transform: scale(1.02);
        }
        .floating-clean-btn i {
            margin-right: 4px;
            font-size: 0.7rem;
        }
        .log-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        html, body {
            overflow: auto;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            min-height: 100%;
            display: flex;
            align-items: flex-start; 
            padding: 1rem;
        }
        .main-container {
            max-height: none;
            overflow: visible;
            margin: auto; 
            width: 100%;
        }
        .content-wrapper {
            max-height: none;
            overflow: visible;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-[#0F172A] via-[#1E293B] to-[#0F172A] flex items-start justify-center p-3 sm:p-4">
    <div class="w-full max-w-[560px] bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-5 sm:p-6 md:p-8 shadow-2xl main-container">
        <div class="content-wrapper">
            <h1 class="text-3xl sm:text-4xl font-bold text-center mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">FB SHARE</h1>
            <div class="bg-black/20 border border-white/5 rounded-2xl p-4 sm:p-5 mb-4 sm:mb-6">
                <div class="flex items-center gap-2 text-amber-400 font-semibold text-sm sm:text-base mb-3"><i class="fas fa-tools"></i> <span>TROUBLESHOOTING</span></div>
                <div class="grid grid-cols-2 gap-2 sm:gap-3">
                    <div class="flex items-center gap-2 text-slate-300 text-xs sm:text-sm"><i class="fas fa-arrow-right text-amber-400 text-xs"></i> <span>use facebook lite</span></div>
                    <div class="flex items-center gap-2 text-slate-300 text-xs sm:text-sm"><i class="fas fa-arrow-right text-amber-400 text-xs"></i> <span>tap 3 dots copy link</span></div>
                    <div class="flex items-center gap-2 text-slate-300 text-xs sm:text-sm"><i class="fas fa-arrow-right text-amber-400 text-xs"></i> <span>fresh cookie only</span></div>
                    <div class="flex items-center gap-2 text-slate-300 text-xs sm:text-sm"><i class="fas fa-arrow-right text-amber-400 text-xs"></i> <span>public posts only</span></div>
                    <div class="flex items-center gap-2 text-slate-300 text-xs sm:text-sm"><i class="fas fa-arrow-right text-amber-400 text-xs"></i> <span>test with 100 first</span></div>
                    <div class="flex items-center gap-2 text-slate-300 text-xs sm:text-sm"><i class="fas fa-arrow-right text-amber-400 text-xs"></i> <span>avoid private posts</span></div>
                </div>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-slate-300 font-medium text-sm sm:text-base mb-2"><i class="fas fa-link mr-2 text-blue-400"></i>POST URL</label>
                    <input type="url" id="url" value="https://www.facebook.com/nethrion.dev/videos/1443693383468618/?app=fbl" class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-600 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition text-sm sm:text-base" placeholder="https://facebook.com/...">
                </div>
                <div>
                    <label class="block text-slate-300 font-medium text-sm sm:text-base mb-2"><i class="fas fa-cookie mr-2 text-blue-400"></i>COOKIE</label>
                    <textarea id="cookie" rows="3" class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-600 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition text-sm sm:text-base mono" placeholder="paste your facebook cookie here..."></textarea>
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <label class="block text-slate-300 font-medium text-sm sm:text-base mb-2"><i class="fas fa-chart-bar mr-2 text-blue-400"></i>AMOUNT</label>
                        <input type="number" id="amount" value="1000" min="1" class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-600 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition text-sm sm:text-base">
                    </div>
                    <div>
                        <label class="block text-slate-300 font-medium text-sm sm:text-base mb-2"><i class="fas fa-clock mr-2 text-blue-400"></i>INTERVAL</label>
                        <input type="number" id="interval" value="0" min="0" class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-600 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition text-sm sm:text-base">
                    </div>
                </div>
                <div>
                    <label class="block text-slate-300 font-medium text-sm sm:text-base mb-2"><i class="fas fa-microchip mr-2 text-blue-400"></i>THREADS</label>
                    <input type="number" id="threads" value="1" min="1" class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-600 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition text-sm sm:text-base">
                </div>
            </div>
            <button id="startBtn" class="w-full mt-6 mb-5 py-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl text-white font-semibold text-base sm:text-lg hover:from-blue-600 hover:to-purple-600 transform hover:-translate-y-0.5 transition shadow-lg shadow-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0">
                <span id="btnText"><i class="fas fa-rocket mr-2"></i>START SHARING</span>
            </button>
            <div class="bg-black/30 border border-white/5 rounded-2xl p-4 sm:p-5 relative">
                <div class="log-header">
                    <div class="flex items-center gap-2 text-slate-400 text-sm sm:text-base">
                        <i class="fas fa-circle text-green-400 text-xs"></i> 
                        <span>LIVE LOGS</span>
                    </div>
                    <button id="cleanLogsBtn" class="floating-clean-btn" title="clear all logs">
                        <i class="fas fa-eraser"></i> clean
                    </button>
                </div>
                <div id="logsWrapper" class="logs-wrapper bg-black/20 rounded-xl p-3 mb-4 mono text-xs sm:text-sm"></div>
                <div class="grid grid-cols-3 gap-2 bg-black/20 rounded-xl p-3">
                    <div class="flex flex-col items-center text-center">
                        <div class="flex items-center gap-1 text-slate-400 text-xs sm:text-sm"><i class="fas fa-check-circle text-green-400"></i> <span>SUCCESS</span></div>
                        <span id="successCount" class="text-white font-bold text-sm sm:text-base bg-white/5 px-3 py-1 rounded-full w-full text-center">0</span>
                    </div>
                    <div class="flex flex-col items-center text-center">
                        <div class="flex items-center gap-1 text-slate-400 text-xs sm:text-sm"><i class="fas fa-chart-line text-blue-400"></i> <span>PROGRESS</span></div>
                        <span id="progressCount" class="text-white font-bold text-sm sm:text-base bg-white/5 px-3 py-1 rounded-full w-full text-center">0</span>
                    </div>
                    <div class="flex flex-col items-center text-center">
                        <div class="flex items-center gap-1 text-slate-400 text-xs sm:text-sm"><i class="fas fa-times-circle text-red-400"></i> <span>ERROR</span></div>
                        <span id="errorCount" class="text-white font-bold text-sm sm:text-base bg-white/5 px-3 py-1 rounded-full w-full text-center">0</span>
                    </div>
                </div>
            </div>
            <p class="text-center text-slate-600 text-xs mt-4"><i class="far fa-copyright mr-1"></i>2026 Kenneth Panio. All rights reserved.</p>
        </div>
    </div>
    <script>
        $(document).ready(function() {
            let successCount = 0, errorCount = 0, currentProgress = 0;
            
            function addLog(message, type = 'info') {
                const time = new Date().toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' });
                const colors = { success: 'text-green-400', error: 'text-red-400', info: 'text-blue-400', warning: 'text-amber-400' };
                $('#logsWrapper').append(`<div class="log-entry ${colors[type]} py-1 border-b border-white/5 last:border-0 text-xs sm:text-sm">[${time}] ${message}</div>`);
                $('#logsWrapper').scrollTop($('#logsWrapper')[0].scrollHeight);
            }

            function updateStats() {
                $('#successCount').text(successCount);
                $('#errorCount').text(errorCount);
                $('#progressCount').text(currentProgress);
            }

            $('#cleanLogsBtn').click(function() {
                $('#logsWrapper').empty();
                addLog('ðŸ§¹ log area cleaned', 'info');
            });

            $('#startBtn').click(async function() {
                const url = $('#url').val().trim();
                const cookie = $('#cookie').val().trim();
                const amount = $('#amount').val();
                const interval = $('#interval').val();
                const threads = $('#threads').val();

                if (!url || !cookie) {
                    addLog('url and cookie required', 'error');
                    return;
                }

                $(this).prop('disabled', true);
                $('#btnText').html('<i class="fas fa-spinner fa-spin mr-2"></i>PROCESSING');
                
                $('#logsWrapper').empty();
                successCount = 0; errorCount = 0; currentProgress = 0;
                updateStats();

                addLog(`target: ${amount} shares`, 'info');
                addLog(`threads: ${threads} Â· interval: ${interval}s`, 'info');

                try {
                    const response = await fetch('https://oreo.gleeze.com/api/fbshare', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json', 'Accept': 'text/event-stream' },
                        body: JSON.stringify({
                            postUrl: url, cookie: cookie,
                            shareAmount: parseInt(amount),
                            intervalSeconds: parseInt(interval),
                            threads: parseInt(threads),
                            stream: true
                        })
                    });

                    const reader = response.body.getReader();
                    const decoder = new TextDecoder();
                    let buffer = '';

                    while (true) {
                        const { value, done } = await reader.read();
                        if (done) break;

                        buffer += decoder.decode(value, { stream: true });
                        const messages = buffer.split('\n\n');
                        buffer = messages.pop();

                        for (const message of messages) {
                            const lines = message.split('\n');
                            for (const line of lines) {
                                if (line.startsWith('data: ')) {
                                    try {
                                        const data = JSON.parse(line.slice(6));
                                        
                                        if (data.status === 'started') {
                                            addLog(data.message, 'info');
                                        } else if (data.status === 'progress') {
                                            const match = data.message.match(/(\d+)\/(\d+)/);
                                            if (match) {
                                                currentProgress = parseInt(match[1]);
                                                updateStats();
                                            }
                                        } else if (data.status === 'completed') {
                                            successCount++;
                                            addLog(`âœ“ ${data.message}`, 'success');
                                            updateStats();
                                        } else if (data.status === 'error' || data.status === 'partial_error') {
                                            errorCount++;
                                            addLog(`âœ— ${data.error || data.message}`, 'error');
                                            updateStats();
                                        } else if (data.status === 'expired') {
                                            errorCount++;
                                            addLog(`âŒ› cookie expired`, 'error');
                                            updateStats();
                                        }
                                    } catch (e) {}
                                }
                            }
                        }
                    }

                    addLog('process completed', 'success');

                } catch (error) {
                    addLog(`connection error`, 'error');
                    errorCount++;
                    updateStats();
                } finally {
                    $('#startBtn').prop('disabled', false);
                    $('#btnText').html('<i class="fas fa-rocket mr-2"></i>START SHARING');
                }
            });

            $('#url').keypress(function(e) {
                if (e.which === 13) $('#startBtn').click();
            });
        });
    </script>
</body>
</html>